# Template

A key-value consist of XML or HTML tags that want to be rendered. Currently these are the supported input / control components:

* text
* textarea
* number
* checkbox
* select
* reactselect
* reactselectasync

And currently these are the supported layouting components:

* row
* fullcolumn
* column

An example template using bootstrap 5 can be seen at [template.tsx](../examples/react/template.tsx).

## Mandatory props for layouting components

The only props passed to layouting components are `children`. It is the children components to be rendered inside the layouting components.

## Mandatory props for input / control components

There are some properties that will always be passed to input / control components. Those are:

* `name`: string. Same with `name` property in html, provided by structure component's `name` attribute. It will be used as `field name` to get / set input / control value to data.

* `readonly`: boolean. Use to provide different component with readonly state.

* `value`: string. Value passed to component. It is get from `data[<valueField>]`, with `<valueField>` is provided from `name` attribute. For example if the component's `name` attribute is `EmployeeName`, the value passed here will be from `data["EmployeeName"]`. Currently only support non-nested `data`.

* `label`: string. Text to be represented as your label field. Provided by structure component's `label` attribute. If `label` attribute is empty and `autoLabel` option is `true`, it'll use structure component's `name` attribute instead.

* `error`: string. Text to display if error occured, using built-in validation if `autoValidation` option is set to `true`. 

* `placeholder`: string. Text to display in input as placeholder. Provided by structure component's `placeholder` attribute. If `placeholder` attribute is empty and `autoLabel` option is `true`, it'll use structure component's `label` then `name` attribute instead.

* `dataset`: key (string) : value (string). A key-value pair consist of data attributes generated by the library. Just add to your `input` element as `{...dataset}`.

* `validation`: a key-value consist of validation specification. Can be used to make distinct control display, such as required field.

* `validation.required`: boolean. True if structure component's `readOnly` is `true`, or `readOnly` option is set to `true`.

* `onChange`: `(evt: Input handler) => void`. The `onChange` event handler. Use in your input element like `onChange={onChange}`.

## `select` and `reactselect` props

Both `select` and `reactselect` component get some additional `properties`:

* `options`: array. An array of options. Each option has `label (string)` and `value (string)` property.

* `groupedOptions (not yet supported)`: array. An array of group options. Each group has property `label (string)` and `option` property. The `option` property is an array of `options`.

## `reactselectasync` props

The additional `properties` for `reactselectasync` component:

* `selectedLabel`: string. The selected option text / label. It is get from `data[<labelField>]`, with `<labelfield>` is provided by structure component's `labelField` attribute.

* `loadOptions`: `(inputValue: string, callback: callback) => void`. It is the `loadOptions` handler to be provided to `react-select/async` component. As how to provide this property, see [api.md](./api.md).